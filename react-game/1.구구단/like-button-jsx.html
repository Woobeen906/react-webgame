<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>구구단</title>
</head>
<body>
<div id="root"></div>
<!--<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>-->
<!--<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>-->
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
<script type="text/babel">
    'use strict';

    function LikeButton() { //  함수형 컴포넌트 x 함수 컴포넌트 o
        const [liked,setLiked]=React.useState(false); // 구조분해
        // 먼짓을 하든, 결국 return 한게 화면.
        if(liked){
            return "You liked this.";
        }

        return (
            <button onClick={()=>{setLiked(true);}}>Like</button>
        )
    }

    // class LikeButton extends React.Component{
    //     constructor(props) {
    //         super(props);
    //         this.state={liked:false};
    //     }
    //     render(){
    //         if(this.state.liked){
    //             return "You liked this."
    //         }
    //         // return React.createElement('button',{onClick:()=>this.setState({liked:true})},"Like");
    //         return(
    //             //3. 객체를 함부로 바꾸지 마라(불변성)
    //             <button onClick={()=>this.setState({liked:true})}>
    //                 Like
    //             </button>
    //         )
    //     }
    //
    // }

    class GuGuDan extends React.Component{
        constructor(props) {
            super(props);
            this.state={
                first:Math.ceil(Math.random()*9),
                second:Math.ceil(Math.random()*9),
                value:"",
                result:"",
            }
        }

        onSubmit=(e)=>{
            e.preventDefault();
            if(parseInt(this.state.value)===this.state.first*this.state.second){
                this.setState({
                    result: `${this.state.value} 정답`,
                    first: Math.ceil(Math.random()*9),
                    second: Math.ceil(Math.random()*9),
                    value:"",
                });
                this.input.focus();
            }else{
                this.setState({
                    result:"땡",
                    value:"",
                })
                this.input.focus();
            }
        }

        onChagne=(e)=>this.setState({value:e.target.value});

        input;

        onRefInput=(c)=>{this.input=c;};

        render(){

            return (
                <React.Fragment>
                    <div>{this.state.first} 곱하기 {this.state.second} 는?</div>
                    <form onSubmit={this.onSubmit}>
                        <input ref={this.onRefInput} type="number" value={this.state.value} onChange={(e)=>this.onChagne(e)}/>
                        <button>입력!</button>
                    </form>
                    <div>{this.state.result}</div>
                </React.Fragment>
            )
        }
    }

    // const GuGuDan=()=>{
    //     const [value,setValue]=React.useState("");
    //     const [result,setResult]=React.useState("");
    //     return(
    //         <React.Fragment>
    //             <div>{}</div>
    //         </React.Fragment>
    //     )
    // }

</script>
<script type="text/babel">
    // ReactDOM.render(React.createElement(LikeButton),document.querySelector("#root"))
    ReactDOM.createRoot(document.querySelector("#root")).render(<GuGuDan/>);
</script>

</body>
</html>